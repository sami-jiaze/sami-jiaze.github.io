(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{558:function(t,r,v){t.exports=v.p+"assets/img/image-20230613093346300.0ce28830.png"},559:function(t,r,v){t.exports=v.p+"assets/img/image-20230613094004453.76cfea84.png"},560:function(t,r,v){t.exports=v.p+"assets/img/image-20230613094850714.85eecf6b.png"},561:function(t,r,v){t.exports=v.p+"assets/img/image-20230613095141776.98ee90ec.png"},562:function(t,r,v){t.exports=v.p+"assets/img/image-20230613095530431.08871161.png"},678:function(t,r,v){"use strict";v.r(r);var e=v(2),_=Object(e.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("总览")]),t._v(" "),r("p",[t._v("代理服务器，正向代理与反向代理，CDN、VPN")])]),t._v(" "),r("h2",{attrs:{id:"代理服务器-proxy-server"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#代理服务器-proxy-server"}},[t._v("#")]),t._v(" 代理服务器(Proxy Server)")]),t._v(" "),r("ul",[r("li",[t._v("本身不产生内容")]),t._v(" "),r("li",[t._v("处于中间位置转发上下游的请求和响应")])]),t._v(" "),r("h2",{attrs:{id:"正向代理与反向代理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#正向代理与反向代理"}},[t._v("#")]),t._v(" 正向代理与反向代理")]),t._v(" "),r("p",[r("strong",[t._v("正向代理")]),t._v("：代理的对象是客户端")]),t._v(" "),r("ul",[r("li",[t._v("隐藏客户端身份")]),t._v(" "),r("li",[t._v("抓包工具原理(在客户端启动了正向代理，wireshark是拦截网卡上流过的数据)")]),t._v(" "),r("li",[t._v("绕过防火墙")]),t._v(" "),r("li",[t._v("Internet访问控制")]),t._v(" "),r("li",[t._v("数据过滤")])]),t._v(" "),r("p",[r("img",{attrs:{src:v(558),alt:"image-20230613093346300"}})]),t._v(" "),r("p",[r("strong",[t._v("反向代理")]),t._v("： 代理的对象是服务器")]),t._v(" "),r("ul",[r("li",[t._v("隐藏服务器身份")]),t._v(" "),r("li",[t._v("安全防护")]),t._v(" "),r("li",[t._v("负载均衡")])]),t._v(" "),r("p",[r("img",{attrs:{src:v(559),alt:"image-20230613094004453"}})]),t._v(" "),r("h2",{attrs:{id:"代理服务器相关头部字段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#代理服务器相关头部字段"}},[t._v("#")]),t._v(" 代理服务器相关头部字段")]),t._v(" "),r("p",[t._v("Via：追加经过的每一台代理服务器的主机名(或域名)")]),t._v(" "),r("p",[t._v("X-Forwarded-For：追加请求方的IP")]),t._v(" "),r("p",[t._v("X-Real-IP： 客户端真实IP地址")]),t._v(" "),r("p",[r("img",{attrs:{src:v(560),alt:"image-20230613094850714"}})]),t._v(" "),r("h2",{attrs:{id:"cdn"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cdn"}},[t._v("#")]),t._v(" CDN")]),t._v(" "),r("p",[t._v("内容分发网络 Content Delivery Network或Content Distribution Network")]),t._v(" "),r("p",[t._v("CDN是只对网站的某一个具体的域名加速。如果同一个网站有多个域名，则访客访问加入CDN的域名获得加速效果，访问未加入CDN的域名，或者直接访问IP地址，则无法获得CDN效果。")]),t._v(" "),r("ul",[r("li",[t._v("利用最靠近每位用户的服务器将资源文件传递给客户")]),t._v(" "),r("li",[t._v("CDN运行商在全国全球各大枢纽城市都建立了机房，内容所有者向CDN运行商付费然后由CDN转发给用户")])]),t._v(" "),r("p",[r("img",{attrs:{src:v(561),alt:"image-20230613095141776"}})]),t._v(" "),r("p",[r("img",{attrs:{src:v(562),alt:"image-20230613095530431"}})]),t._v(" "),r("ol",[r("li",[t._v("当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。")]),t._v(" "),r("li",[t._v("CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回用户。")]),t._v(" "),r("li",[t._v("用户向CDN的全局负载均衡设备发起内容URL访问请求。")]),t._v(" "),r("li",[t._v("CDN全局负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求。")]),t._v(" "),r("li",[t._v("区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户IP地址，判断哪一台服务器距用户最近；根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址。")]),t._v(" "),r("li",[t._v("全局负载均衡设备把服务器的IP地址返回给用户。")]),t._v(" "),r("li",[t._v("用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。")])]),t._v(" "),r("h2",{attrs:{id:"vpn"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vpn"}},[t._v("#")]),t._v(" VPN")]),t._v(" "),r("p",[r("strong",[t._v("何为VPN")])]),t._v(" "),r("p",[t._v("表面上，VPN和代理服务器是很接近的。在VPN服务下，你传输的信息会先经过VPN服务器，然后再抵达目的地，反过来的接收过程也是一样。而VPN和代理的主要区别就在于你向服务器发送数据的这个环节。 使用VPN，你必须先安装VPN软件。在开启VPN软件后，软件的主要职责就是加密你的数据并传递给VPN服务器，这样你传输的数据对截获者来说就是不可读的。这个技术叫做“隧道”")]),t._v(" "),r("p",[r("strong",[t._v("使用VPN的好处")])]),t._v(" "),r("p",[t._v("VPN可以隐蔽你在互联网上的行为。反过来说，代理服务器并不难做到这一点，至少在你和代理服务器交换数据的这个阶段是做不到的，任何有能力的人（包括黑客和你的网络服务商）都能看到你在传输什么。而VPN则从你的主机建立了隧道，包括网络服务商在内的任何人都无法“看到”你传输的东西。 隐蔽意味着安全，如今整个互联网都在倡导各式各样的加密通讯，道理就在这里。很多不法分子会通过截取用户发出的数据包而窃取用户信息，但通过VPN你就不用担心这个问题了，对截获者来说你发出的加密数据包几乎等于垃圾数据。")]),t._v(" "),r("p",[r("strong",[t._v("VPN的不足")])]),t._v(" "),r("p",[t._v("但不幸的是，VPN通常不便宜。理论上，除非你有必要将你的网络操作进行加密，否则购买VPN是没有必要的。相比之下，付费代理要便宜得多。 不仅如此，由于加密隧道是你的设备建立的，因此所有的离岸数据都是在你的设备上完成加密的。这可能会不同程度上拖慢你的设备速度，从而影响整个浏览体验。")]),t._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/451193697",target:"_blank",rel:"noopener noreferrer"}},[t._v("代理(Proxy)和VPN的区别 - 知乎 (zhihu.com)"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1779335",target:"_blank",rel:"noopener noreferrer"}},[t._v("什么是CDN？它解决了什么难题？5分钟让你明明白白！-腾讯云开发者社区-腾讯云 (tencent.com)"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/28940451",target:"_blank",rel:"noopener noreferrer"}},[t._v("也许是史上最全的一次CDN详解 - 知乎 (zhihu.com)"),r("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=_.exports}}]);