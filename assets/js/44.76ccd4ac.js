(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{508:function(t,v,_){t.exports=_.p+"assets/img/1.d696619a.png"},663:function(t,v,_){"use strict";_.r(v);var s=_(2),a=Object(s.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("总览")]),t._v(" "),v("p",[t._v("浏览器中的缓存位置、HTTP性能优化手段，减少请求，减少响应数据，避免发送")])]),t._v(" "),v("h2",{attrs:{id:"http1-1优化"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http1-1优化"}},[t._v("#")]),t._v(" HTTP1.1优化")]),t._v(" "),v("p",[t._v("我们可以从下面这三种优化思路来优化 HTTP/1.1 协议：")]),t._v(" "),v("ul",[v("li",[v("em",[t._v("尽量避免发送 HTTP 请求")]),t._v("；")]),t._v(" "),v("li",[v("em",[t._v("在需要发送 HTTP 请求时，考虑如何减少请求次数")]),t._v("；")]),t._v(" "),v("li",[v("em",[t._v("减少服务器的 HTTP 响应的数据大小")]),t._v("；")])]),t._v(" "),v("h2",{attrs:{id:"避免发送-http-请求"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#避免发送-http-请求"}},[t._v("#")]),t._v(" 避免发送 HTTP 请求")]),t._v(" "),v("p",[t._v("对于一些具有重复性的 HTTP 请求，比如每次请求得到的数据都一样的，我们可以把这对「请求-响应」的数据都"),v("strong",[t._v("缓存在本地")]),t._v("，那么下次就直接读取本地的数据，不必在通过网络获取服务器的响应了。")]),t._v(" "),v("p",[t._v("避免发送 HTTP 请求的方法就是通过"),v("strong",[t._v("缓存技术")])]),t._v(" "),v("p",[t._v("客户端会把第一次请求以及响应的数据保存在本地磁盘上，其中将请求的 URL 作为 key，而响应作为 value，两者形成映射关系。")]),t._v(" "),v("p",[t._v("这样当后续发起相同的请求时，就可以先在本地磁盘上通过 key 查到对应的 value，也就是响应，如果找到了，就直接从本地读取该响应")]),t._v(" "),v("p",[v("img",{attrs:{src:_(508),alt:""}})]),t._v(" "),v("p",[t._v("服务器在发送 HTTP 响应时，会估算一个过期的时间，并把这个信息放到响应头部中，这样客户端在查看响应头部的信息时，一旦发现缓存的响应是过期的，则就会重新发送网络请求。")]),t._v(" "),v("p",[t._v("如果客户端从第一次请求得到的响应头部中发现该响应过期了，客户端重新发送请求，假设服务器上的资源并没有变更，还是老样子，那么在服务器的响应不带上这个资源的话，可以提高 HTTP 协议的性能，那具体如何做到呢？")]),t._v(" "),v("p",[t._v("只需要客户端在重新发送请求时，在请求的 "),v("code",[t._v("Etag")]),t._v(" 头部带上第一次请求的响应头部中的摘要，这个摘要是唯一标识响应的资源，当服务器收到请求后，会将本地资源的摘要与请求中的摘要做个比较。")]),t._v(" "),v("p",[t._v("如果不同，那么说明客户端的缓存已经没有价值，服务器在响应中带上最新的资源。")]),t._v(" "),v("p",[t._v("如果相同，说明客户端的缓存还是可以继续使用的，那么服务器"),v("strong",[t._v("仅返回不含有包体的 "),v("code",[t._v("304 Not Modified")]),t._v(" 响应")]),t._v("，告诉客户端仍然有效，这样就可以减少响应资源在网络中传输的延时")]),t._v(" "),v("h2",{attrs:{id:"参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),v("p",[v("strong",[t._v("小林coding")])]),t._v(" "),v("p",[v("a",{attrs:{href:"https://juejin.cn/post/6955293052432809991#heading-5",target:"_blank",rel:"noopener noreferrer"}},[t._v("一文读懂浏览器缓存（超详细） - 掘金 (juejin.cn)"),v("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=a.exports}}]);