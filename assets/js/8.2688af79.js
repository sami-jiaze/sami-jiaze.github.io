(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{557:function(v,_,t){v.exports=t.p+"assets/img/image-20230314104809024.5217b0cc.png"},558:function(v,_,t){v.exports=t.p+"assets/img/image-20230314104954004.f791b946.png"},559:function(v,_,t){v.exports=t.p+"assets/img/image-20230314105348714.37a41141.png"},560:function(v,_,t){v.exports=t.p+"assets/img/image-20230314110511775.742fd723.png"},561:function(v,_,t){v.exports=t.p+"assets/img/image-20230314151208217.3eafee80.png"},562:function(v,_,t){v.exports=t.p+"assets/img/image-20230314152217561.2450a98a.png"},563:function(v,_,t){v.exports=t.p+"assets/img/11ipv4.09ac8bdb.png"},564:function(v,_,t){v.exports=t.p+"assets/img/image-20230314164139069.c739c38c.png"},565:function(v,_,t){v.exports=t.p+"assets/img/image-20230314164841316.28ae4709.png"},566:function(v,_,t){v.exports=t.p+"assets/img/image-20230314165338049.47b828a7.png"},567:function(v,_,t){v.exports=t.p+"assets/img/image-20230314165535761.4ecbb125.png"},568:function(v,_,t){v.exports=t.p+"assets/img/image-20230314165851240.50c5900a.png"},569:function(v,_,t){v.exports=t.p+"assets/img/image-20230314165701448.08fa04c0.png"},570:function(v,_,t){v.exports=t.p+"assets/img/image-20230314174550652.039552ec.png"},571:function(v,_,t){v.exports=t.p+"assets/img/image-20230314175903377.ba49d82a.png"},572:function(v,_,t){v.exports=t.p+"assets/img/image-20230315075548306.ee125d8c.png"},573:function(v,_,t){v.exports=t.p+"assets/img/image-20230315075913275.c76d1f6d.png"},574:function(v,_,t){v.exports=t.p+"assets/img/image-20230315075703178.7c25b0ae.png"},575:function(v,_,t){v.exports=t.p+"assets/img/image-20230315081242898.5adc1f3a.png"},703:function(v,_,t){"use strict";t.r(_);var s=t(2),a=Object(s.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[v._v("总览")]),v._v(" "),_("p",[v._v("IPv4和IPv6、IP和路由、广播多播、子网掩码、网关")])]),v._v(" "),_("h2",{attrs:{id:"什么是ip"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是ip"}},[v._v("#")]),v._v(" 什么是IP")]),v._v(" "),_("p",[v._v("IP 在 TCP/IP 参考模型中处于第三层，也就是"),_("strong",[v._v("网络层")]),v._v("。")]),v._v(" "),_("p",[v._v("网络层的主要作用是："),_("strong",[v._v("实现主机与主机之间的通信，也叫点对点（end to end）通信。")])]),v._v(" "),_("p",[v._v("IP 的作用是主机之间通信用的，而 MAC 的作用则是实现「直连」的两个设备之间通信，而 IP 则负责在「没有直连」的两个网络之间进行通信传输。")]),v._v(" "),_("img",{staticStyle:{zoom:"115%"},attrs:{src:t(557)}}),v._v(" "),_("img",{staticStyle:{zoom:"80%"},attrs:{src:t(558)}}),v._v(" "),_("p",[v._v("源IP地址和目标IP地址在传输过程中是不会变化的（前提：没有使用 NAT 网络），只有源 MAC 地址和目标 MAC 一直在变化。")]),v._v(" "),_("p",[v._v("计算机网络中需要"),_("strong",[v._v("数据链路层")]),v._v("和"),_("strong",[v._v("网络层")]),v._v("才能实现向最终目标地址的通信。")]),v._v(" "),_("h2",{attrs:{id:"ipv4"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ipv4"}},[v._v("#")]),v._v(" IPv4")]),v._v(" "),_("p",[v._v("在 TCP/IP 网络通信时，为了保证能正常通信，每个设备都需要配置正确的 IP 地址，否则无法实现正常的通信。")]),v._v(" "),_("p",[v._v("IP 地址（IPv4 地址）由 "),_("code",[v._v("32")]),v._v(" 位正整数来表示，IP 地址在计算机是以二进制的方式处理的。")]),v._v(" "),_("img",{staticStyle:{zoom:"150%"},attrs:{src:t(559)}}),v._v(" "),_("p",[v._v("也就说，最大允许 2^32 = 43 亿台计算机连接到网络。")]),v._v(" "),_("p",[v._v("而世界上计算机的数量肯定远不止43亿台，但有一种可以更换 IP 地址的技术 "),_("code",[v._v("NAT")]),v._v("，使得可连接计算机数超过 43 亿台")]),v._v(" "),_("h2",{attrs:{id:"ipv4地址类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ipv4地址类型"}},[v._v("#")]),v._v(" IPv4地址类型")]),v._v(" "),_("p",[v._v("互联网诞生之初，IP 地址显得很充裕，于是计算机科学家们设计了"),_("strong",[v._v("分类地址")]),v._v("。")]),v._v(" "),_("p",[v._v("IP 地址分类成了 5 种类型，分别是 A 类、B 类、C 类、D 类、E 类。")]),v._v(" "),_("img",{attrs:{src:t(560)}}),v._v(" "),_("img",{staticStyle:{zoom:"83%"},attrs:{src:t(561)}}),v._v(" "),_("p",[v._v("最大主机个数，就是要看主机号的位数，如 C 类地址的主机号占 8 位，那么 C 类地址的最大主机个数：2^8 - 2 = 254")]),v._v(" "),_("p",[v._v("减二是因为在 IP 地址中，有两个 IP 是特殊的，分别是主机号全为 1 和 全为 0 地址。")]),v._v(" "),_("ul",[_("li",[v._v("主机号全为 1 指定某个网络下的所有主机，用于"),_("strong",[v._v("广播")])]),v._v(" "),_("li",[v._v("主机号全为 0 指定某个"),_("strong",[v._v("网络")])])]),v._v(" "),_("p",[v._v("因此，在分配过程中，应该去掉这两种情况。")]),v._v(" "),_("img",{staticStyle:{zoom:"80%"},attrs:{src:t(562)}}),v._v(" "),_("p",[v._v("D 类和 E 类地址是没有主机号的，所以不可用于主机 IP，D 类常被用于"),_("strong",[v._v("多播")]),v._v("，E 类是预留的分类，暂时未使用。")]),v._v(" "),_("p",[_("strong",[v._v("IP地址分类好处")])]),v._v(" "),_("p",[v._v("不管是路由器还是主机解析到一个 IP 地址时候，我们判断其 IP 地址的首位是否为 0，为 0 则为 A 类地址，那么就能很快的找出网络地址和主机地址。")]),v._v(" "),_("p",[_("strong",[v._v("IP地址分类缺点")])]),v._v(" "),_("ul",[_("li",[_("p",[_("strong",[v._v("同一网络下没有地址层次")]),v._v("，比如一个公司里用了 B 类地址，但是可能需要根据生产环境、测试环境、开发环境来划分地址层次，而这种 IP 分类是没有地址层次划分的功能，所以这就"),_("strong",[v._v("缺少地址的灵活性")]),v._v("。")])]),v._v(" "),_("li",[_("p",[_("strong",[v._v("不能很好的与现实网络匹配")]),v._v("。C 类地址能包含的最大主机数量实在太少了，只有 254 个，估计一个网吧都不够用。而 B 类地址能包含的最大主机数量又太多了，6 万多台机器放在一个网络下面，一般的企业基本达不到这个规模，闲着的地址就是浪费。")])])]),v._v(" "),_("p",[v._v("这两个缺点，都可以在 "),_("code",[v._v("CIDR")]),v._v(" 无分类地址解决。")]),v._v(" "),_("h2",{attrs:{id:"公有-ip-地址和私有-ip-地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#公有-ip-地址和私有-ip-地址"}},[v._v("#")]),v._v(" 公有 IP 地址和私有 IP 地址")]),v._v(" "),_("p",[v._v("在 A、B、C 分类地址，实际上有分公有 IP 地址和私有 IP 地址")]),v._v(" "),_("p",[_("img",{attrs:{src:t(563),alt:""}})]),v._v(" "),_("p",[v._v("平时我们办公室、家里、学校用的 IP 地址，一般都是私有 IP 地址。因为这些地址允许组织内部的 IT 人员自己管理、自己分配，而且可以重复。因此，你学校的某个私有 IP 地址和我学校的可以是一样的。")]),v._v(" "),_("p",[v._v("公有 IP 地址基本上要在整个互联网范围内保持唯一。公有 IP 地址是由 "),_("code",[v._v("ICANN")]),v._v(" 组织管理，中文叫「互联网名称与数字地址分配机构」。")]),v._v(" "),_("p",[v._v("IANA 是 ICANN 的其中一个机构，它负责分配互联网 IP 地址，是按洲的方式层层分配。")]),v._v(" "),_("h2",{attrs:{id:"广播"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#广播"}},[v._v("#")]),v._v(" 广播")]),v._v(" "),_("p",[v._v("广播地址用于在"),_("strong",[v._v("同一个链路中相互连接的主机之间发送数据包")]),v._v("。")]),v._v(" "),_("p",[v._v("当主机号全为 1 时，就表示该网络的广播地址。例如把 "),_("code",[v._v("172.20.0.0/16")]),v._v(" 用二进制表示如下：")]),v._v(" "),_("p",[v._v("10101100.00010100.00000000.00000000")]),v._v(" "),_("p",[v._v("将这个地址的"),_("strong",[v._v("主机部分全部改为 1")]),v._v("，则形成广播地址：")]),v._v(" "),_("p",[v._v("10101100.00010100.11111111.11111111")]),v._v(" "),_("p",[v._v("再将这个地址用十进制表示，则为 "),_("code",[v._v("172.20.255.255")]),v._v("。")]),v._v(" "),_("p",[v._v("广播地址可以分为本地广播和直接广播两种。")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("在本网络内广播的叫做本地广播")]),v._v("。例如网络地址为 192.168.0.0/24 的情况下，广播地址是 192.168.0.255 。因为这个广播地址的 IP 包会被路由器屏蔽，所以不会到达 192.168.0.0/24 以外的其他链路上。")]),v._v(" "),_("li",[_("strong",[v._v("在不同网络之间的广播叫做直接广播")]),v._v("。例如网络地址为 192.168.0.0/24 的主机向 192.168.1.255/24 的目标地址发送 IP 包。收到这个包的路由器，将数据转发给 192.168.1.0/24，从而使得所有 192.168.1.1~192.168.1.254 的主机都能收到这个包（由于直接广播有一定的安全问题，"),_("strong",[v._v("多数情况下会在路由器上设置为不转发")]),v._v("。） 。")])]),v._v(" "),_("h2",{attrs:{id:"多播"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#多播"}},[v._v("#")]),v._v(" 多播")]),v._v(" "),_("p",[v._v("多播用于"),_("strong",[v._v("将包发送给特定组内的所有主机。")])]),v._v(" "),_("p",[v._v("多播使用的 D 类地址，其前四位是 "),_("code",[v._v("1110")]),v._v(" 就表示是多播地址，而剩下的 28 位是多播的组编号。")]),v._v(" "),_("p",[v._v("从 224.0.0.0 ~ 239.255.255.255 都是多播的可用范围，其划分为以下三类：")]),v._v(" "),_("ul",[_("li",[v._v("224.0.0.0 ~ 224.0.0.255 为预留的组播地址，只能在局域网中，路由器是不会进行转发的。")]),v._v(" "),_("li",[v._v("224.0.1.0 ~ 238.255.255.255 为用户可用的组播地址，可以用于 Internet 上。")]),v._v(" "),_("li",[v._v("239.0.0.0 ~ 239.255.255.255 为本地管理组播地址，可供内部网在内部使用，仅在特定的本地范围内有效。")])]),v._v(" "),_("h2",{attrs:{id:"无分类地址-cidr"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#无分类地址-cidr"}},[v._v("#")]),v._v(" 无分类地址 CIDR")]),v._v(" "),_("p",[v._v("这种方式不再有分类地址的概念，32 比特的 IP 地址被划分为两部分，前面是"),_("strong",[v._v("网络号")]),v._v("，后面是"),_("strong",[v._v("主机号")]),v._v("。")]),v._v(" "),_("p",[v._v("表示形式 "),_("code",[v._v("a.b.c.d/x")]),v._v("，其中 "),_("code",[v._v("/x")]),v._v(" 表示前 x 位属于"),_("strong",[v._v("网络号")]),v._v("， x 的范围是 "),_("code",[v._v("0 ~ 32")]),v._v("，这就使得 IP 地址更加具有灵活性。")]),v._v(" "),_("p",[v._v("比如 10.100.122.2/24，这种地址表示形式就是 CIDR，/24 表示前 24 位是网络号，剩余的 8 位是主机号")]),v._v(" "),_("p",[_("img",{attrs:{src:t(564),alt:""}})]),v._v(" "),_("h2",{attrs:{id:"子网掩码"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#子网掩码"}},[v._v("#")]),v._v(" 子网掩码")]),v._v(" "),_("p",[v._v("一种划分网络号与主机号形式，那就是"),_("strong",[v._v("子网掩码")]),v._v("，掩码的意思就是掩盖掉主机号，剩余的就是网络号。将子网掩码和 IP 地址按位计算 AND，就可得到网络号。")]),v._v(" "),_("img",{staticStyle:{zoom:"90%"},attrs:{src:t(565)}}),v._v(" "),_("p",[v._v("子网掩码还有一个作用，那就是"),_("strong",[v._v("划分子网")]),v._v("。"),_("strong",[v._v("子网划分实际上是将主机地址分为两个部分：子网网络地址和子网主机地址")])]),v._v(" "),_("img",{staticStyle:{zoom:"67%"},attrs:{src:t(566)}}),v._v(" "),_("p",[v._v("子网网络地址被划分成 2 位，那么子网地址就有 4 个，分别是 00、01、10、11， 列举其中两个")]),v._v(" "),_("img",{staticStyle:{zoom:"85%"},attrs:{src:t(567)}}),v._v(" "),_("img",{attrs:{src:t(568)}}),v._v(" "),_("img",{staticStyle:{zoom:"82%"},attrs:{src:t(569)}}),v._v(" "),_("p",[_("strong",[v._v("为什么要分离网络号和主机号？")])]),v._v(" "),_("p",[v._v("因为两台计算机要通讯，首先要判断是否处于同一个广播域内，即网络地址是否相同。如果网络地址相同，表明接受方在本网络上，那么可以把数据包直接发送到目标主机。路由器寻址工作中，也就是通过这样的方式来找到对应的网络号的，进而把数据包转发给对应的网络内。")]),v._v(" "),_("p",[v._v("当"),_("strong",[v._v("局域网")]),v._v("设备通信时，通过IP地址和子网掩码，就可以判断发送与接收的设备是否处于同一网段。如果两个设备处在同一网段，发送和接收数据只需要经过交换机，不需要经过路由器。不同网段的设备收发数据就需要经过路由器，这时就必须用到"),_("strong",[v._v("网关")]),v._v("。")]),v._v(" "),_("h2",{attrs:{id:"网关"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#网关"}},[v._v("#")]),v._v(" 网关")]),v._v(" "),_("p",[v._v("网关它可以是路由器，交换机或者是PC。在同一网段之内进行通信，是不需要将网关介入其中，只有当主机个非本网段设备进行通信的时候，才需要将数据包全部发给网关设备，再经由网关设备进行转发或者是有路由处理等。只要连接两个不同的网络的设备都可以叫网关")]),v._v(" "),_("p",[v._v("网关实质上是一个网络通向其他网络的IP地址，网关在网段内的可用IP中选一个，不过，一般用的是第1个和最后一个。")]),v._v(" "),_("p",[v._v("例如：网络A的IP地址范围是192.168.1.1～192.168.1.254，子网掩码是255.255.255.0，如果需要与其它网段通信，那么它的网关可以设置为192.168.1.1。\n网关实现通信：没有路由器的情况下，两个网段不能通信。网络A中的主机向外发包时，首先判断目的IP地址与自己是否在同一网段，如果发现目的主机不在本地网络中，就把数据包转发给自己的网关，再由网关转发给网络B的网关，再转发到网络B的目的主机。\n只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信")]),v._v(" "),_("p",[v._v("网关这种设备它主要是用来"),_("strong",[v._v("连接两种不同的网络")]),v._v("，同时，网关它还能够同时与两边的主机之间进行通信。但是两边的主机是不能够直接进行通信，是必须要经过网关才能进行通信。网关的工作是在"),_("strong",[v._v("应用层")]),v._v("当中。")]),v._v(" "),_("p",[_("strong",[v._v("路由器")]),v._v("它是属于"),_("strong",[v._v("网络层")]),v._v("设备，通常是以包为单位进行数据的发送。在路由器的子接口，是有分割广播域的作用，所以当我们用交换机做VLAN以后，都是要在路由器上做一个三层的路由")]),v._v(" "),_("p",[v._v("路由器它可以进行数据格式的转换，连通不同的网络和信息传输作用，成为不同于协议之间的网络互连的必要设备。")]),v._v(" "),_("p",[_("strong",[v._v("本质区别")])]),v._v(" "),_("p",[v._v("路由器：通过为各种网络安装路由信息并根据目标地址路由转发数据包和各种内部网络管理服务。")]),v._v(" "),_("p",[v._v("网关：区分什么是内部网络和什么是外部网络，并管理协议、过滤内外网络之间的通信等。")]),v._v(" "),_("h2",{attrs:{id:"ip-地址与路由控制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ip-地址与路由控制"}},[v._v("#")]),v._v(" IP 地址与路由控制")]),v._v(" "),_("p",[v._v("IP地址的"),_("strong",[v._v("网络地址")]),v._v("这一部分是用于进行路由控制。")]),v._v(" "),_("p",[v._v("路由控制表中记录着网络地址与下一步应该发送至路由器的地址。在主机和路由器上都会有各自的路由器控制表。")]),v._v(" "),_("p",[v._v("在发送 IP 包时，首先要确定 IP 包首部中的目标地址，再从路由控制表中找到与该地址具有"),_("strong",[v._v("相同网络地址")]),v._v("的记录，根据该记录将 IP 包转发给相应的下一个路由器。如果路由控制表中存在多条相同网络地址的记录，就选择相同位数最多的网络地址，也就是最长匹配")]),v._v(" "),_("img",{staticStyle:{zoom:"80%"},attrs:{src:t(570)}}),v._v(" "),_("ol",[_("li",[v._v("主机 A 要发送一个 IP 包，其源地址是 "),_("code",[v._v("10.1.1.30")]),v._v(" 和目标地址是 "),_("code",[v._v("10.1.2.10")]),v._v("，由于没有在主机 A 的路由表找到与目标地址 "),_("code",[v._v("10.1.2.10")]),v._v(" 相同的网络地址，于是包被转发到默认路由（路由器 "),_("code",[v._v("1")]),v._v(" ）")]),v._v(" "),_("li",[v._v("路由器 "),_("code",[v._v("1")]),v._v(" 收到 IP 包后，也在路由器 "),_("code",[v._v("1")]),v._v(" 的路由表匹配与目标地址相同的网络地址记录，发现匹配到了，于是就把 IP 数据包转发到了 "),_("code",[v._v("10.1.0.2")]),v._v(" 这台路由器 "),_("code",[v._v("2")])]),v._v(" "),_("li",[v._v("路由器 "),_("code",[v._v("2")]),v._v(" 收到后，同样对比自身的路由表，发现匹配到了，于是把 IP 包从路由器 "),_("code",[v._v("2")]),v._v(" 的 "),_("code",[v._v("10.1.2.1")]),v._v(" 这个接口出去，最终经过交换机把 IP 数据包转发到了目标主机")])]),v._v(" "),_("h2",{attrs:{id:"_0-0-0-0"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_0-0-0-0"}},[v._v("#")]),v._v(" 0.0.0.0")]),v._v(" "),_("p",[v._v("在路由器配置中可用0.0.0.0/0表示默认路由，作用是帮助路由器发送路由表中无法查询的包。如果设置了全零网络的路由，路由表中无法查询的包都将送到全零网络的路由中去。严格说来，0.0.0.0已经不是一个真正意义上的IP地址了。它表示的是这样一个集合：所有未知的主机和目的网络。这里的“未知”是指在本机的路由表里没有特定条目指明如何到达")]),v._v(" "),_("h2",{attrs:{id:"主机回环地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#主机回环地址"}},[v._v("#")]),v._v(" 主机回环地址")]),v._v(" "),_("p",[_("strong",[v._v("环回地址是不会流向网络")])]),v._v(" "),_("p",[v._v("凡是以"),_("code",[v._v("127")]),v._v("开头的"),_("strong",[v._v("IP地址")]),v._v("，都是"),_("strong",[v._v("回环地址（Loop back address）")]),v._v("，其所在的回环接口一般被理解为虚拟网卡，并不是真正的路由器接口。我们在主机上发送给"),_("code",[v._v("127")]),v._v("开头的"),_("strong",[v._v("IP地址")]),v._v("的数据包会被发送的主机自己接收，根本传不出去，外部设备也无法通过回环地址访问到本机。")]),v._v(" "),_("p",[v._v("相比127.0.0.1，localhost具有更多的意义。localhost是个域名，而不是一个ip地址。之所以我们经常把localhost与127.0.0.1认为是同一个是因为我们使用的大多数电脑上都讲localhost指向了127.0.0.1这个地址。但是localhost的意义并不局限于127.0.0.1。")]),v._v(" "),_("p",[v._v("localhost是一个域名，用于指代this computer或者this host,可以用它来获取运行在本机上的网络服务。")]),v._v(" "),_("p",[v._v("在大多数系统中，localhost被指向了IPV4的127.0.0.1和IPV6的::1。")]),v._v(" "),_("h2",{attrs:{id:"ip-分片与重组"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ip-分片与重组"}},[v._v("#")]),v._v(" IP 分片与重组")]),v._v(" "),_("p",[_("RouterLink",{attrs:{to:"/笔记整理/浏览器与计网/TCP.html"}},[v._v("什么是MTU ")]),v._v("(见TCP分割数据小节)")],1),v._v(" "),_("p",[v._v("每种数据链路的最大传输单元 "),_("code",[v._v("MTU")]),v._v(" 都是不相同的，如 FDDI 数据链路 MTU 4352、以太网的 MTU 是 1500 字节等。每种数据链路的 MTU 之所以不同，是因为每个不同类型的数据链路的使用目的不同。使用目的不同，可承载的 MTU 也就不同。")]),v._v(" "),_("p",[v._v("其中，我们最常见数据链路是以太网，它的 MTU 是 "),_("code",[v._v("1500")]),v._v(" 字节。那么当 IP 数据包大小大于 MTU 时， IP 数据包就会被分片。经过分片之后的 IP 数据报在被重组的时候，只能由目标主机进行，路由器是不会进行重组的。")]),v._v(" "),_("p",[v._v("假设发送方发送一个 4000 字节的大数据报，若要传输在以太网链路，则需要把数据报分片成 3 个小数据报进行传输，再交由接收方重组成大数据报。")]),v._v(" "),_("img",{staticStyle:{zoom:"90%"},attrs:{src:t(571)}}),v._v(" "),_("p",[v._v("在分片传输中，一旦某个分片丢失，则会造成整个 IP 数据报作废，所以 TCP 引入了 "),_("code",[v._v("MSS")]),v._v(" 也就是在 TCP 层进行分片不由 IP 层分片，那么对于 UDP 我们尽量不要发送一个大于 "),_("code",[v._v("MTU")]),v._v(" 的数据报文。")]),v._v(" "),_("h2",{attrs:{id:"ipv6"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ipv6"}},[v._v("#")]),v._v(" IPv6")]),v._v(" "),_("p",[v._v("IPv6 的地址是 "),_("code",[v._v("128")]),v._v(" 位的，这可分配的地址数量是大的惊人,除了有更多的地址之外，还有更好的安全性和扩展性，但是因为 IPv4 和 IPv6 不能相互兼容，所以不但要我们电脑、手机之类的设备支持，还需要网络运营商对现有的设备进行升级")]),v._v(" "),_("ul",[_("li",[v._v("IPv6 可自动配置，即使没有 DHCP 服务器也可以实现自动分配IP地址，便捷到即插即用啊。")]),v._v(" "),_("li",[v._v("IPv6 包头包首部长度采用固定的值 "),_("code",[v._v("40")]),v._v(" 字节，去掉了包头校验和，简化了首部结构，减轻了路由器负荷，大大"),_("strong",[v._v("提高了传输的性能")]),v._v("。")]),v._v(" "),_("li",[v._v("IPv6 有应对伪造 IP 地址的网络安全功能以及防止线路窃听的功能，大大"),_("strong",[v._v("提升了安全性")]),v._v("。")])]),v._v(" "),_("p",[v._v("IPv6 地址长度是 128 位，是以每 16 位作为一组，每组用冒号 "),_("code",[v._v(":")]),v._v(" 隔开。如果出现连续的 0 时还可以将这些 0 省略，并用两个冒号 "),_("code",[v._v("::")]),v._v("隔开。但是，一个 IP 地址中只允许出现一次两个连续的冒号")]),v._v(" "),_("p",[_("img",{attrs:{src:t(572),alt:""}})]),v._v(" "),_("h2",{attrs:{id:"ipv6地址类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ipv6地址类型"}},[v._v("#")]),v._v(" IPv6地址类型")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("单播地址，用于一对一的通信")]),v._v(" "),_("p",[v._v("对于一对一通信的 IPv6 地址，主要划分了三类单播地址，每类地址的有效范围都不同。")]),v._v(" "),_("ol",[_("li",[v._v("在同一链路单播通信，不经过路由器，可以使用"),_("strong",[v._v("链路本地单播地址")]),v._v("，IPv4 没有此类型")]),v._v(" "),_("li",[v._v("在内网里单播通信，可以使用"),_("strong",[v._v("唯一本地地址")]),v._v("，相当于 IPv4 的私有 IP")]),v._v(" "),_("li",[v._v("在互联网通信，可以使用"),_("strong",[v._v("全局单播地址")]),v._v("，相当于 IPv4 的公有 IP")])]),v._v(" "),_("p",[_("img",{attrs:{src:t(573),alt:""}})])]),v._v(" "),_("li",[_("p",[v._v("组播地址，用于一对多的通信")])]),v._v(" "),_("li",[_("p",[v._v("任播地址，用于通信最近的节点，最近的节点是由路由协议决定")])]),v._v(" "),_("li",[_("p",[v._v("没有广播地址")])])]),v._v(" "),_("img",{staticStyle:{zoom:"120%"},attrs:{src:t(574)}}),v._v(" "),_("p",[_("strong",[v._v("IPv4和IPv6首部")])]),v._v(" "),_("p",[_("img",{attrs:{src:t(575),alt:""}})]),v._v(" "),_("p",[_("strong",[v._v("Traffic Class")]),v._v(" 占8bit 交通类别：指示数据包的类别或优先级，可以帮助路由器跟据数据包的优先级处理流量，如果路由器发生拥塞，则优先级最低的数据包将被抛弃")]),v._v(" "),_("p",[_("strong",[v._v("Flow Label")]),v._v(" 占20bit 流标签： 指示数据包属于哪个特定序列(流)，用数据包的源地址目的地址流标签标识一个流")]),v._v(" "),_("p",[_("strong",[v._v("Payload Length")]),v._v(" 占16bit 有效负载长度： 最大值为65535字节，包括扩展头部、上层（传输层）数据的长度")]),v._v(" "),_("p",[_("strong",[v._v("Next Header")]),v._v(" 占8bit 下一个头部： 指示扩展头部的类型、上层数据包的协议类型如TCP、UDP")]),v._v(" "),_("p",[_("strong",[v._v("Hop Limit")]),v._v(" 占8bit 跳数限制： 与IPv4数据包的TTL相同")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("取消了首部校验和字段。")]),v._v(" 因为在数据链路层和传输层都会校验，因此 IPv6 直接取消了 IP 的校验。")]),v._v(" "),_("li",[_("strong",[v._v("取消了分片/重新组装相关字段。")]),v._v(" 分片与重组是耗时的过程，IPv6 不允许在中间路由器进行分片与重组，这种操作只能在源与目标主机，这将大大提高了路由器转发的速度。")]),v._v(" "),_("li",[_("strong",[v._v("取消选项字段。")]),v._v(" 选项字段不再是标准 IP 首部的一部分了，但它并没有消失，而是可能出现在 IPv6 首部中的「下一个首部」指出的位置上。删除该选项字段使的 IPv6 的首部成为固定长度的 "),_("code",[v._v("40")]),v._v(" 字节。")])]),v._v(" "),_("h2",{attrs:{id:"与ip相关的协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#与ip相关的协议"}},[v._v("#")]),v._v(" 与IP相关的协议")]),v._v(" "),_("p",[_("RouterLink",{attrs:{to:"/笔记整理/浏览器与计网/ARP.html"}},[v._v("ARP")])],1),v._v(" "),_("p",[_("RouterLink",{attrs:{to:"/笔记整理/浏览器与计网/DHCP.html"}},[v._v("DHCP")])],1),v._v(" "),_("p",[_("RouterLink",{attrs:{to:"/笔记整理/浏览器与计网/NAT.html"}},[v._v("NAT")])],1),v._v(" "),_("p",[_("RouterLink",{attrs:{to:"/笔记整理/浏览器与计网/ICMP.html"}},[v._v("ICMP")])],1),v._v(" "),_("p",[_("RouterLink",{attrs:{to:"/笔记整理/浏览器与计网/IGMP.html"}},[v._v("IGMP")])],1),v._v(" "),_("h2",{attrs:{id:"参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[v._v("#")]),v._v(" 参考")]),v._v(" "),_("p",[v._v("小林coding")]),v._v(" "),_("p",[v._v("计算机网络-自顶向下方法")]),v._v(" "),_("p",[v._v("图解TCP/IP")])])}),[],!1,null,null,null);_.default=a.exports}}]);